(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{63:(e,t,r)=>{"use strict";var a=r(7260);r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},1823:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var a=r(5155),s=r(2115),n=r(63),i=r(2619),l=r.n(i),d=r(5976);let c={NEW:"bg-slate-100 text-slate-700 dark:bg-slate-800/50 dark:text-slate-300 border-slate-200 dark:border-slate-700",QUALIFIED:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 border-blue-200 dark:border-blue-800",BOOKED:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300 border-green-200 dark:border-green-800",ESCALATE:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300 border-red-200 dark:border-red-800"};function o(e){let{status:t,className:r=""}=e;return(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold border ".concat(c[t]," ").concat(r),children:t})}var x=r(1907),m=r(3286);function u(){let{toast:e}=(0,x.d)(),t=(0,n.useSearchParams)(),[r,i]=(0,s.useState)([]),[c,u]=(0,s.useState)(null),[h,b]=(0,s.useState)(!1),[p,g]=(0,s.useState)(null),[k,f]=(0,s.useState)(!1),[v,j]=(0,s.useState)(null),[w,z]=(0,s.useState)(!1),[N,y]=(0,s.useState)(null),[E,S]=(0,s.useState)(null),C=(0,s.useRef)(null);function A(e){u(e),b(!0),y(null),S(null),z(!1)}function D(){b(!1),setTimeout(()=>{u(null),y(null),S(null),z(!1)},300)}function L(t,r){navigator.clipboard.writeText(t).then(()=>{e({title:"Copied!",description:"".concat(r," copied to clipboard"),type:"success"})})}(0,s.useEffect)(()=>{!async function(){try{var t;let r=await fetch("/api/leads");if(!r.ok)return void e({title:"Error loading leads",description:"Failed to fetch leads from server",type:"error"});let a=await r.json();i(null!=(t=a.leads)?t:[])}catch(t){console.error(t),e({title:"Error loading leads",description:t instanceof Error?t.message:"An unexpected error occurred",type:"error"})}}()},[e]),(0,s.useEffect)(()=>{let e=t.get("lead");if(e&&r.length>0){let t=r.find(t=>t.id===e);t&&A(t)}},[r,t]),(0,s.useEffect)(()=>{function e(e){"Escape"===e.key&&h&&D()}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[h]),(0,s.useEffect)(()=>{h&&C.current&&C.current.scrollIntoView({behavior:"smooth"})},[h,null==c?void 0:c.messages]);let M=new Date,O=M.toDateString(),T=new Date(M);T.setDate(T.getDate()-1);let I=T.toDateString(),F=r.filter(e=>new Date(e.createdAt).toDateString()===O).length,R=r.filter(e=>new Date(e.createdAt).toDateString()===I).length,B=r.filter(e=>"BOOKED"===e.status).reduce((e,t)=>e+(t.estimatedRevenue||0),0),P=r.filter(e=>"ESCALATE"===e.status).length,W=F-R;async function K(){j(null),f(!0);try{let e=await fetch("/api/leads/owner-summary",{cache:"no-store"});if(!e.ok){let t=await e.text();throw console.error("Failed to fetch AI summary",e.status,t),Error("Failed to generate summary. Please try again.")}let t=await e.json();g(t.summary)}catch(e){console.error("Error fetching AI summary:",e),j(e instanceof Error?e.message:"Failed to generate summary")}finally{f(!1)}}async function H(){if(c){z(!0),S(null),y(null);try{var t;let r=await fetch("/api/leads/".concat(c.id,"/owner-assist"),{method:"POST"});if(!r.ok){let e=await r.text();throw console.error("Owner assist failed:",r.status,e),Error("Failed to generate suggestion")}let a=await r.json();y(null!=(t=a.suggestion)?t:""),e({title:"Follow-up drafted!",description:"Your personalized message is ready",type:"success"})}catch(r){console.error("Owner assist error:",r);let t=r instanceof Error?r.message:"Failed to generate suggestion. Please try again.";S(t),e({title:"Error",description:t,type:"error"})}finally{z(!1)}}}return(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Y9,{title:"Owner Dashboard",showThemeToggle:!0}),m.X&&(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 bg-amber-100 dark:bg-amber-900/30 text-amber-900 dark:text-amber-300 px-3 py-1 rounded-full text-xs font-medium border border-amber-300 dark:border-amber-700",children:"MOCK MODE"}),(0,a.jsxs)("main",{className:"min-h-screen p-4 sm:p-6 bg-gray-50 dark:bg-zinc-950",children:[(0,a.jsx)(d.C6,{mode:m.X?"MOCK":"LIVE"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 min-[360px]:grid-cols-3 gap-3 sm:gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 sm:p-4 shadow-sm",title:"Number of leads created today",children:[(0,a.jsxs)("div",{className:"text-xs sm:text-sm text-zinc-600 dark:text-zinc-400 mb-1 flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Leads Today"}),0!==W&&(0,a.jsxs)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat(W>0?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"),children:[W>0?"+":"",W," vs yesterday"]})]}),(0,a.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:F}),(0,a.jsx)("div",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"today"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 sm:p-4 shadow-sm",title:"Total estimated revenue from booked leads",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-zinc-600 dark:text-zinc-400 mb-1",children:"Booked Revenue"}),(0,a.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold text-green-600 dark:text-green-400",children:["$",B.toFixed(0)]}),(0,a.jsx)("div",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"lifetime"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-3 sm:p-4 shadow-sm",title:"Leads flagged for owner review",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-zinc-600 dark:text-zinc-400 mb-1",children:"Escalations"}),(0,a.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-red-600 dark:text-red-400",children:P}),(0,a.jsx)("div",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"needs attention"})]})]}),(0,a.jsxs)("div",{className:"mb-6 border border-zinc-200 dark:border-zinc-800 rounded-lg p-4 bg-zinc-50 dark:bg-zinc-900 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Daily Summary"}),(0,a.jsx)("button",{onClick:K,disabled:k,className:"px-4 py-2 text-sm font-medium rounded-md bg-blue-600 text-white hover:bg-blue-700 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition",children:k?"Generating...":"Ask AI for today's summary"})]}),k&&(0,a.jsxs)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Generating summary..."})]}),v&&(0,a.jsx)("div",{className:"text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded p-3",children:v}),p&&!k&&(0,a.jsx)("div",{className:"text-sm text-zinc-700 dark:text-zinc-300 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded p-4 whitespace-pre-wrap",children:p})]}),(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-semibold mb-4 text-zinc-900 dark:text-zinc-100",children:"Leads"}),(0,a.jsx)("div",{className:"bg-white dark:bg-neutral-900 border border-zinc-200 dark:border-zinc-800 rounded-lg overflow-hidden shadow-sm overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-50 dark:bg-neutral-800",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left px-3 py-2 whitespace-nowrap",children:"Created"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 whitespace-nowrap",children:"Name"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 whitespace-nowrap",children:"Phone"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 whitespace-nowrap",children:"Service"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 whitespace-nowrap",children:"Status"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 whitespace-nowrap",children:"Est. Revenue"})]})}),(0,a.jsxs)("tbody",{children:[r.map(e=>(0,a.jsxs)("tr",{onClick:()=>A(e),className:"border-t border-zinc-200 dark:border-zinc-800 hover:bg-gray-50 dark:hover:bg-neutral-800 cursor-pointer transition",children:[(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-zinc-600 dark:text-zinc-400",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-3 py-2 max-w-[150px]",title:e.name,children:(0,a.jsx)("div",{className:"truncate text-zinc-900 dark:text-zinc-100",children:e.name})}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-zinc-600 dark:text-zinc-400",children:e.phone}),(0,a.jsx)("td",{className:"px-3 py-2 max-w-[200px]",title:e.serviceRequested||e.jobDetails||"",children:(0,a.jsx)("div",{className:"truncate text-zinc-700 dark:text-zinc-300",children:e.serviceRequested||e.jobDetails||"—"})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsx)(o,{status:e.status})}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-zinc-900 dark:text-zinc-100 font-medium",children:e.estimatedRevenue?"$".concat(e.estimatedRevenue.toFixed(0)):"—"})]},e.id)),0===r.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"px-3 py-12 text-center text-zinc-500 dark:text-zinc-400",colSpan:6,children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsx)("svg",{className:"w-16 h-16 text-zinc-300 dark:text-zinc-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"No leads yet"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Get started by creating a test lead"})]}),(0,a.jsx)(l(),{href:"/demo?focus=true",className:"mt-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 transition-all text-sm font-semibold shadow-md hover:shadow-lg active:scale-95",children:"Create a test lead →"})]})})})]})]})})]}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:D}),(0,a.jsxs)("div",{className:"fixed right-0 top-0 bottom-0 w-full sm:max-w-2xl bg-white dark:bg-neutral-900 shadow-2xl z-50 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white dark:bg-neutral-900 border-b border-zinc-200 dark:border-zinc-800 px-4 sm:px-6 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0 pr-4",children:[(0,a.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-zinc-900 dark:text-zinc-100 truncate",children:null==c?void 0:c.name}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3 items-center text-xs sm:text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:[(0,a.jsx)("a",{href:"tel:".concat(null==c?void 0:c.phone),className:"hover:text-zinc-900 dark:hover:text-zinc-200 underline",children:null==c?void 0:c.phone}),(0,a.jsx)("button",{onClick:()=>(null==c?void 0:c.phone)&&L(c.phone,"Phone"),className:"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200",title:"Copy phone",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(null==c?void 0:c.email)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"truncate",children:c.email}),(0,a.jsx)("button",{onClick:()=>(null==c?void 0:c.email)&&L(c.email,"Email"),className:"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200",title:"Copy email",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[c&&(0,a.jsx)(o,{status:c.status}),(0,a.jsx)("button",{onClick:D,className:"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200 p-2 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":"Close",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,a.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300 mb-2",children:"Lead Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Created:"}),(0,a.jsx)("span",{className:"ml-2 text-zinc-900 dark:text-zinc-100",children:c&&new Date(c.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Channel:"}),(0,a.jsx)("span",{className:"ml-2 text-zinc-900 dark:text-zinc-100 capitalize",children:null==c?void 0:c.channel})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Service:"}),(0,a.jsx)("span",{className:"ml-2 text-zinc-900 dark:text-zinc-100",children:(null==c?void 0:c.serviceRequested)||(null==c?void 0:c.jobDetails)||"—"})]}),(null==c?void 0:c.estimatedRevenue)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Est. Revenue:"}),(0,a.jsxs)("span",{className:"ml-2 text-zinc-900 dark:text-zinc-100 font-semibold",children:["$",c.estimatedRevenue.toFixed(0)]})]}),(0,a.jsxs)("div",{className:"col-span-2",title:"Status is set by AI during conversation",children:[(0,a.jsx)("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Status:"}),(0,a.jsxs)("select",{disabled:!0,value:null==c?void 0:c.status,className:"ml-2 px-2 py-1 rounded border border-zinc-300 dark:border-zinc-700 bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 text-sm cursor-not-allowed opacity-70",children:[(0,a.jsx)("option",{value:"NEW",children:"NEW"}),(0,a.jsx)("option",{value:"QUALIFIED",children:"QUALIFIED"}),(0,a.jsx)("option",{value:"BOOKED",children:"BOOKED"}),(0,a.jsx)("option",{value:"ESCALATE",children:"ESCALATE"})]}),(0,a.jsx)("span",{className:"ml-2 text-xs text-zinc-500 dark:text-zinc-400 italic",children:"(Set by AI)"})]})]})]}),(null==c?void 0:c.chosenSlot)&&(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-green-800 dark:text-green-300 mb-2",children:"✓ Booked Appointment"}),(0,a.jsx)("p",{className:"text-sm text-green-700 dark:text-green-400",children:c.chosenSlot})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300 mb-3",children:"Conversation History"}),c&&c.messages&&c.messages.length>0?(0,a.jsxs)("div",{className:"space-y-3",children:[c.messages.map(e=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.from?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-[75%] rounded-lg px-3 py-2 ".concat("user"===e.from?"bg-blue-600 text-white":"bg-zinc-200 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100"),children:[(0,a.jsx)("div",{className:"text-sm whitespace-pre-wrap",children:e.body}),(0,a.jsxs)("div",{className:"text-xs mt-1 ".concat("user"===e.from?"text-blue-100":"text-zinc-500 dark:text-zinc-400"),children:[new Date(e.createdAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),"ai"===e.from&&(0,a.jsx)("span",{className:"ml-2",children:"AI"})]})]})},e.id)),(0,a.jsx)("div",{ref:C})]}):(0,a.jsx)("div",{className:"text-center py-8 text-zinc-500 dark:text-zinc-400 text-sm",children:"No messages yet."})]}),(0,a.jsx)("div",{className:"border-t border-zinc-200 dark:border-zinc-800 pt-6",children:(0,a.jsxs)("div",{className:"rounded-lg p-5 ".concat((null==c?void 0:c.status)==="ESCALATE"?"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-300 dark:border-amber-700":"bg-neutral-50 dark:bg-neutral-900/50 border border-neutral-200 dark:border-neutral-800"),children:[(0,a.jsxs)("h3",{className:"text-base font-semibold mb-2 flex items-center gap-2 ".concat((null==c?void 0:c.status)==="ESCALATE"?"text-amber-900 dark:text-amber-300":"text-neutral-500 dark:text-neutral-400"),children:[(0,a.jsx)("span",{children:"\uD83E\uDD16"}),(0,a.jsx)("span",{children:"AI Follow-up Coach"})]}),(null==c?void 0:c.status)==="ESCALATE"?(0,a.jsxs)(a.Fragment,{children:[!N&&!w&&(0,a.jsx)("p",{className:"text-sm text-amber-700 dark:text-amber-400 mb-4",children:"This lead is escalated. Click the button below to have AI draft a follow-up SMS or email you can send to the customer."}),w&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-amber-700 dark:text-amber-400 mb-4",children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,a.jsx)("span",{children:"Drafting follow-up message…"})]}),N&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Suggested message (edit before sending):"}),(0,a.jsx)("textarea",{readOnly:!0,value:N,className:"w-full h-32 px-3 py-2 text-sm rounded-lg border border-amber-200 dark:border-amber-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 resize-none focus:outline-none focus:ring-2 focus:ring-amber-500 dark:focus:ring-amber-600"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(N),e({title:"Copied!",description:"Message copied to clipboard",type:"success"})},className:"flex-1 px-4 py-2 text-sm font-medium rounded-md bg-amber-600 text-white hover:bg-amber-700 dark:hover:bg-amber-500 transition",children:"Copy SMS"}),(0,a.jsx)("button",{onClick:H,disabled:w,className:"flex-1 px-4 py-2 text-sm font-medium rounded-md bg-amber-100 dark:bg-amber-900/40 text-amber-900 dark:text-amber-300 hover:bg-amber-200 dark:hover:bg-amber-900/60 disabled:opacity-50 disabled:cursor-not-allowed transition",children:w?"Drafting…":"Regenerate"})]})]}),!N&&!w&&(0,a.jsx)("button",{onClick:H,disabled:w,className:"w-full px-4 py-2.5 text-sm font-medium rounded-md bg-amber-600 text-white hover:bg-amber-700 dark:hover:bg-amber-500 disabled:opacity-50 disabled:cursor-not-allowed transition shadow-sm",children:"Draft follow-up message"}),E&&(0,a.jsx)("div",{className:"mt-3 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3",children:"We couldn't generate a suggestion right now. Try again in a moment."})]}):(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Follow-up coach is available for ESCALATE leads (pricing issues, edge locations, angry customers)."}),(0,a.jsx)("button",{disabled:!0,className:"w-full px-4 py-2.5 text-sm font-medium rounded-md bg-neutral-200 dark:bg-neutral-800 text-neutral-400 dark:text-neutral-500 cursor-not-allowed",title:"Only available for escalated leads",children:"Draft follow-up message"})]})]})})]})]})]})]})}},3095:(e,t,r)=>{Promise.resolve().then(r.bind(r,1823))},3286:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});let a=!0},5976:(e,t,r)=>{"use strict";r.d(t,{C6:()=>d,Y9:()=>l,Zp:()=>i});var a=r(5155),s=r(2115);function n(e){let t=document.documentElement;"dark"===e?t.classList.add("dark"):t.classList.remove("dark");try{localStorage.setItem("theme",e)}catch(e){}}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}("rounded-2xl shadow p-4 bg-white dark:bg-zinc-900 border border-neutral-200 dark:border-neutral-800 text-zinc-900 dark:text-zinc-100 transition-colors",t),...r})}function l(e){let{title:t,showThemeToggle:r=!0}=e,[i,l]=s.useState("light");return s.useEffect(()=>{let e=function(){try{let e=localStorage.getItem("theme");if("dark"===e||"light"===e)return e}catch(e){}return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}();l(e),n(e)},[]),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:null!=t?t:""}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:r?(0,a.jsx)("button",{onClick:()=>{let e="dark"===i?"light":"dark";l(e),n(e)},className:"rounded-2xl px-3 py-1.5 text-sm shadow border   bg-white/70 hover:bg-white dark:bg-neutral-800/70 dark:hover:bg-neutral-800   border-neutral-200 dark:border-neutral-700   focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500","aria-label":"Toggle dark mode",children:"dark"===i?"\uD83C\uDF19 Dark":"☀️ Light"}):null})]})}function d(e){let{mode:t}=e,r="MOCK"===t;return(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold ".concat(r?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-green-100 text-green-800 border border-green-300"),children:[t," MODE"]})})}r(2619)}},e=>{e.O(0,[619,907,441,255,358],()=>e(e.s=3095)),_N_E=e.O()}]);